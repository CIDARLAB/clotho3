<div id="clothoSearchbarAutocomplete" class="dropdown pull-left" ng-show="display.autocomplete" click-outside="display.hide('autocomplete'); display.undetail();">
    <ul id="clothoSearchbarAutocompleteList" class="dropdown-menu span5 inline-block">
        <a class="close" ng-click="display.hide('autocomplete'); display.undetail()" style="position: absolute; top: 0; right: 5px;">&times;</a>

        <!--| filter:{text:display.query}-->
        <li ng-repeat="item in (filtered = (autocomplete.autocompletions)) | limitTo:10" ng-class="{'disabled': item.type == 'phrase'}">
            <a class="clothoSearchbarAutocompleteListItem" ng-click="setQuery(item, $event)" ng-mouseenter="display.detail({{item.uuid}})" >{{item.text}}</a>
        </li>

        <li ng-if="!filtered.length" class="disabled"><a><i class="icon-exclamation-sign"></i> No results...</a></li>

    </ul>

    <div id="clothoSearchbarAutocompleteDetail" class="popover inline" ng-show="display.autocompleteDetail" ng-cloak>
        <div class="popover-content">
            <a class="close" ng-click="display.undetail()" style="position: absolute; top: 0; right: 5px;">&times;</a>
            <div style="margin-bottom: 10px;">
                <button class="pull-right btn btn-primary top" ng-click="execute(autocomplete.autoDetail.command_object)">Execute</button>
                <h4 style="margin: 5px 0;">{{autocomplete.autoDetail.text}}</h4>
                <code><small>{{autocomplete.autoDetail.command_native}}</small></code>
            </div>
            <table class="table table-bordered" id="clothoSearchbarAutocompleteDetailVersions">
                <!--<thead>
                    <tr>
                        <th>Command</th>
                        <th>Author</th>
                    </tr>
                </thead>-->
                <tr ng-repeat="item in autocomplete.autoDetail.sharables | limitTo:3">
                    <td style="cursor: pointer" ng-class="{'info': item === autocomplete.detailModel}" ng-click="display.detailInfo('command', $index)">{{item.text}}</td>
                    <td style="cursor: pointer" ng-class="{'info': item.author === autocomplete.detailModel}" ng-click="display.detailInfo('author', $index)">{{item.author.name}}</td>
                </tr>
            </table>

            <div ng-include src="autocomplete.detailTemplate" ng-show="display.autocompleteDetailInfo" ng-model="autocomplete.detailModel">
            </div>

        </div>
    </div>

</div>
