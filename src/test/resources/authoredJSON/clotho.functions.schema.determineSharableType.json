{
  "schema" : "org.clothocad.core.datums.Function",
  "language" : "JAVASCRIPT",
  "name" : "determineSharableType",
  "id" : "clotho.functions.schema.determineSharableType",
  "description" : "Given a sharable, determine from it's schema and parents whether it is an 'Instance', 'Function', 'Schema', or 'View'",
  "outputType" : "string",
  "args" : [ {
    "type" : "string",
    "name" : "sharableId"
  } ],
  "code" : "function (sharableId) {\n  var sharable = clotho.get(sharableId);\n  \n  if (!sharable.schema) {\n    return null;\n  }\n  \n  \n  var schemas = [sharable.schema];\n  schemas = schemas.concat(clotho.run('clotho.functions.schema.getParents', [sharable.schema]));\n  \n  clotho.say(schemas.join(' '));\n  \n  if (_.indexOf(schemas, 'org.clothocad.core.datums.Function') > -1) {\n    return 'Function';\n  } else if (_.indexOf(schemas, 'org.clothocad.core.datums.View') > -1) {\n    return 'View';\n  } else if (_.indexOf(schemas, 'org.clothocad.core.schema.Schema') > -1) {\n  \treturn 'Schema'\n  } else {\n    return 'Instance';\n  }\n}",
  "tests" : [ {
    "args" : [ "clotho.developer.maxbates" ],
    "output" : {
      "value" : "Instance",
      "type" : ""
    }
  }, {
    "args" : [ "DNA" ],
    "output" : {
      "value" : "Function",
      "type" : ""
    }
  }, {
    "args" : [ "org.clothocad.model.Trail" ],
    "output" : {
      "value" : "Schema",
      "type" : ""
    }
  } ]
}